{"ast":null,"code":"var _jsxFileName = \"/Users/motidahari/projects/inventory/client/src/Pages/Products/GapsTable.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { AuthContext } from '../../context/auth';\nimport { Box, Button, MenuItem, TextField, Typography, TableRow, TableCell, Grid, ListSubheader } from '@mui/material';\nimport { PageHeaderContainer } from '../../styles/styledComponents';\nimport { CSVLink } from 'react-csv';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport { useFetchData } from '../../hooks/useFetchData';\nimport products from './../../requests/products';\nimport StyledTable from '../../components/StyledTable';\nimport TableSkeleton from '../../components/TableSkeleton'; // import products from '../../requests/products';\n\nimport { ExportDataContext } from './../../context/DataExport';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  title: 'Product Name'\n}, {\n  title: 'Total Quantity in location'\n}, {\n  title: 'Supposed Quantity'\n}, {\n  title: 'Gap'\n}];\n\nconst GapsTable = _ref => {\n  _s();\n\n  let {\n    warehouse\n  } = _ref;\n  // const { state: allGaps, error, setState } = useFetchData(products.getGaps);\n  const {\n    user,\n    token\n  } = useContext(AuthContext);\n  const userAction = {\n    userId: user.id,\n    token: token\n  };\n  const {\n    headers: headersGaps,\n    fileName: fileNameGaps,\n    data: dataGaps,\n    changeDataExport: changeDataExportGaps\n  } = useContext(ExportDataContext);\n  const [allGaps, setAllGaps] = useState([]);\n\n  const getGapsByLocation = async warehouse => {\n    const location = {\n      locationId: warehouse\n    };\n    const result = await products.getGaps(userAction, location);\n    console.log('result', result);\n    setAllGaps(result);\n  };\n\n  useEffect(() => {\n    if (warehouse.length > 0) {\n      getGapsByLocation(warehouse);\n    }\n  }, [warehouse]);\n  useEffect(() => {\n    changeDataExportGaps('Gaps', allGaps);\n  }, [allGaps]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageHeaderContainer, {\n      sx: {\n        mt: 5,\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          m: 1\n        },\n        variant: \"h4\",\n        children: \"Gaps\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          m: 1\n        },\n        children: fileNameGaps && headersGaps && dataGaps ? /*#__PURE__*/_jsxDEV(CSVLink, {\n          style: {\n            textDecoration: 'none',\n            color: '#3F3FBE'\n          },\n          filename: fileNameGaps,\n          data: dataGaps,\n          headers: headersGaps,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"secondary\",\n            startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 28\n            }, this),\n            sx: {\n              mr: 1\n            },\n            children: \"Export To Excel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), allGaps ? /*#__PURE__*/_jsxDEV(StyledTable, {\n      columns: columns,\n      children: allGaps.length > 0 ? allGaps.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n        children: [/*#__PURE__*/_jsxDEV(TableCell, {\n          children: row.productName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n          children: row.quantityInLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n          children: row.quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n          children: row.gap\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this)]\n      }, row.gapId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(TableRow, {\n        children: /*#__PURE__*/_jsxDEV(TableCell, {\n          children: \"No results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(TableSkeleton, {\n      columns: columns\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n};\n\n_s(GapsTable, \"YujDABgopIx7Rj65GKnBF0lK60w=\");\n\n_c = GapsTable;\nexport default GapsTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"GapsTable\");","map":{"version":3,"sources":["/Users/motidahari/projects/inventory/client/src/Pages/Products/GapsTable.jsx"],"names":["React","useState","useContext","useEffect","AuthContext","Box","Button","MenuItem","TextField","Typography","TableRow","TableCell","Grid","ListSubheader","PageHeaderContainer","CSVLink","DownloadIcon","useFetchData","products","StyledTable","TableSkeleton","ExportDataContext","columns","title","GapsTable","warehouse","user","token","userAction","userId","id","headers","headersGaps","fileName","fileNameGaps","data","dataGaps","changeDataExport","changeDataExportGaps","allGaps","setAllGaps","getGapsByLocation","location","locationId","result","getGaps","console","log","length","mt","mb","m","textDecoration","color","mr","map","row","productName","quantityInLocation","quantity","gap","gapId"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { AuthContext } from '../../context/auth';\nimport {\n  Box,\n  Button,\n  MenuItem,\n  TextField,\n  Typography,\n  TableRow,\n  TableCell,\n  Grid,\n  ListSubheader,\n} from '@mui/material';\nimport { PageHeaderContainer } from '../../styles/styledComponents';\nimport { CSVLink } from 'react-csv';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport { useFetchData } from '../../hooks/useFetchData';\nimport products from './../../requests/products';\nimport StyledTable from '../../components/StyledTable';\nimport TableSkeleton from '../../components/TableSkeleton';\n// import products from '../../requests/products';\nimport { ExportDataContext } from './../../context/DataExport';\n\nconst columns = [\n  {\n    title: 'Product Name',\n  },\n  {\n    title: 'Total Quantity in location',\n  },\n  {\n    title: 'Supposed Quantity',\n  },\n  {\n    title: 'Gap',\n  },\n];\n\nconst GapsTable = ({ warehouse }) => {\n  // const { state: allGaps, error, setState } = useFetchData(products.getGaps);\n  const { user, token } = useContext(AuthContext);\n  const userAction = {\n    userId: user.id,\n    token: token,\n  };\n  const { headers: headersGaps, fileName: fileNameGaps, data: dataGaps, changeDataExport: changeDataExportGaps } =\n    useContext(ExportDataContext);\n\n  const [allGaps, setAllGaps] = useState([]);\n  const getGapsByLocation = async (warehouse) => {\n\n    const location = {\n      locationId: warehouse\n    }\n    const result = await products.getGaps(userAction, location);\n    console.log('result', result);\n    setAllGaps(result)\n  };\n\n  useEffect(() => {\n    if (warehouse.length > 0) {\n      getGapsByLocation(warehouse);\n    }\n  }, [warehouse]);\n\n  useEffect(() => {\n    changeDataExportGaps('Gaps', allGaps);\n  }, [allGaps]);\n\n\n  return (\n    <>\n      <PageHeaderContainer sx={{ mt: 5, mb: 3 }}>\n        <Typography sx={{ m: 1 }} variant=\"h4\">\n          Gaps\n        </Typography>\n        <Box sx={{ m: 1 }}>\n          {fileNameGaps && headersGaps && dataGaps ? (\n            <CSVLink\n              style={{ textDecoration: 'none', color: '#3F3FBE' }}\n              filename={fileNameGaps}\n              data={dataGaps}\n              headers={headersGaps}\n            >\n              <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                startIcon={<DownloadIcon fontSize=\"small\" />}\n                sx={{ mr: 1 }}\n              >\n                Export To Excel\n              </Button>\n            </CSVLink>\n          ) : null}\n        </Box>\n      </PageHeaderContainer>\n\n      {allGaps ? (\n        <StyledTable columns={columns}>\n          {allGaps.length > 0 ? (\n            allGaps.map(row => (\n              <TableRow key={row.gapId}>\n                <TableCell>{row.productName}</TableCell>\n                <TableCell>{row.quantityInLocation}</TableCell>\n                <TableCell>{row.quantity}</TableCell>\n                <TableCell>{row.gap}</TableCell>\n              </TableRow>\n            ))\n          ) : (\n            <TableRow>\n              <TableCell>No results</TableCell>\n            </TableRow>\n          )}\n        </StyledTable>\n      ) : <TableSkeleton columns={columns} />}\n    </>)\n};\n\nexport default GapsTable;\n"]},"metadata":{},"sourceType":"module"}